{"version":3,"sources":["scripts/main.js"],"names":["lastClick","body","document","querySelector","table","tHead","tBody","pushNotification","title","description","type","insertAdjacentHTML","setTimeout","removeChild","form","addEventListener","e","preventDefault","dataObj","Object","fromEntries","FormData","entries","name","length","age","isNaN","salary","newPerson","createElement","innerHTML","charAt","toUpperCase","slice","position","office","toLocaleString","reset","append","events","check","target","cellIndex","sort","children","a","b","sortA","cells","textContent","replace","sortB","localeCompare","reverse","undefined","clickedRow","parentNode","classList","remove","add","input","inputValueBeforeEditing","innerText","setAttribute","replaceWith","key","tableCell","value"],"mappings":"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","file":"main.8e9f76d9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst table = body.querySelector('table');\nconst tHead = table.querySelector('thead');\nconst tBody = table.querySelector('tbody');\nlet lastClick;\n\nbody.insertAdjacentHTML('beforeend', `\n  <form \n    action=\"#\"\n    method=\"get\"\n    class=\"new-employee-form\"\n  >\n    <label>Name:\n      <input name=\"name\" type=\"text\" data-qa=\"name\">\n    </label>\n    <label>Position:\n      <input name=\"position\" type=\"text\" data-qa=\"position\">\n    </label>\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n    <label>Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        data-qa=\"age\"\n        min=0\n      >\n    </label>\n    <label>Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        data-qa=\"salary\"\n        min=0\n      >\n    </label>\n    <button type=\"submit\">Save to table</button>\n  </form>\n`);\n\nfunction pushNotification(title, description, type) {\n  body.insertAdjacentHTML('beforeend', `\n    <div class=\"notification ${type}\" data-qa=\"notification\">\n      <h2 class=\"title\">${title}</h2>\n      <p>${description}</p>\n  </div>\n  `);\n\n  setTimeout(() => {\n    body.removeChild(document.querySelector('.notification'));\n  }, 2000);\n}\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const dataObj = Object.fromEntries(new FormData(form).entries());\n\n  if (dataObj.name.length < 4) {\n    pushNotification('Error',\n      'Name is too short',\n      'error');\n\n    return;\n  };\n\n  if (+dataObj.age < 18 || +dataObj.age > 90) {\n    pushNotification('Error',\n      'You are too young or too old!!',\n      'error');\n\n    return;\n  };\n\n  if (isNaN(dataObj.salary)) {\n    pushNotification('Error',\n      'Invalid salary',\n      'error');\n\n    return;\n  }\n\n  const newPerson = document.createElement('tr');\n\n  newPerson.innerHTML = `\n      <td>\n        ${dataObj.name.charAt(0).toUpperCase() + dataObj.name.slice(1)}\n      </td>\n      <td>\n        ${dataObj.position.charAt(0).toUpperCase() + dataObj.position.slice(1)}\n      </td>\n      <td>\n        ${dataObj.office}\n      </td>\n      <td>\n        ${dataObj.age}\n      </td>\n      <td>\n        ${'$' + (+dataObj.salary).toLocaleString('en-US')}\n      </td>\n    `;\n\n  pushNotification('Success',\n    'Employee has been added successfully!', 'success');\n  form.reset();\n  tBody.append(newPerson);\n});\n\ntHead.addEventListener('click', (events) => {\n  const check = events.target.cellIndex;\n  const sort = [...tBody.children].sort((a, b) => {\n    const sortA = a.cells[check].textContent.replace(',', '').replace('$', '');\n    const sortB = b.cells[check].textContent.replace(',', '').replace('$', '');\n\n    return isNaN(sortA)\n      ? sortA.localeCompare(sortB)\n      : sortA - sortB;\n  });\n\n  if (lastClick === check) {\n    tBody.append(...sort.reverse());\n    lastClick = undefined;\n  } else {\n    tBody.append(...sort);\n    lastClick = check;\n  }\n});\n\ntBody.addEventListener('click', (e) => {\n  const clickedRow = e.target.parentNode;\n\n  if (tBody.querySelector('.active')) {\n    tBody.querySelector('.active').classList.remove('active');\n  }\n  clickedRow.classList.add('active');\n});\n\nconst input = document.createElement('input');\nlet inputValueBeforeEditing = '';\n\ntBody.addEventListener('dblclick', (e) => {\n  inputValueBeforeEditing = e.target.innerText;\n\n  if (document.querySelector('.cell-input') === null) {\n    input.setAttribute('value', e.target.innerText);\n    input.classList.add('cell-input');\n    e.target.replaceWith(input);\n  }\n});\n\ninput.addEventListener('keypress', (e) => {\n  if (e.key === 'Enter') {\n    e.preventDefault();\n\n    const tableCell = document.createElement('td');\n\n    tableCell.innerHTML = input.value.length === 0\n      ? inputValueBeforeEditing\n      : input.value;\n\n    e.target.replaceWith(tableCell);\n  }\n});\n"]}